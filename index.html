<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³Ø§ÛŒØª Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
<style>
:root {
  --bg1: #d4fc79;
  --bg2: #96e6a1;
  --card: white;
  --text: #222;
}
.dark {
  --bg1: #0f2027;
  --bg2: #203a43;
  --card: rgba(255,255,255,0.1);
  --text: white;
}
body {
  margin: 0;
  font-family: Tahoma, sans-serif;
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  color: var(--text);
  text-align: center;
  transition: 0.4s;
}
.container { padding: 20px; }
.card {
  background: var(--card);
  margin: 15px auto;
  padding: 20px;
  border-radius: 15px;
  max-width: 420px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
.price { font-size: 20px; margin: 10px 0; }
.time { font-size: 16px; }
button { padding: 10px; border-radius: 10px; border:none; background:#00bfa5; color:white; cursor:pointer; }
.green { color: green; }
.red { color: red; }
</style>
</head>
<body>

<div class="container">
  <h1>ğŸ“Š Ù‚ÛŒÙ…Øª Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ù‡ ØªÙˆÙ…Ø§Ù†</h1>

  <div class="card">
    <div id="btc" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†...</div>
    <div id="usdt" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª ØªØªØ±...</div>
    <div id="gold" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª Ø·Ù„Ø§...</div>
    <div id="usdRate" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø±Ø® Ø¯Ù„Ø§Ø±...</div>
  </div>

  <div class="card">
    <div id="time" class="time"></div>
    <div id="date" class="time"></div>
    <button onclick="toggleMode()">ğŸŒ™ ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª</button>
  </div>
</div>

<script>
// ğŸŒ™ Ø¯Ø§Ø±Ú© / Ù„Ø§ÛŒØª Ù…ÙˆØ¯
function toggleMode() {
  document.body.classList.toggle("dark");
}

// â° Ø³Ø§Ø¹Øª Ø§ÛŒØ±Ø§Ù†
function updateTime() {
  const now = new Date();
  document.getElementById("time").innerText =
    "ğŸ•’ Ø³Ø§Ø¹Øª Ø§ÛŒØ±Ø§Ù†: " + now.toLocaleTimeString("fa-IR",{timeZone:"Asia/Tehran"});
  document.getElementById("date").innerText =
    "ğŸ“… ØªØ§Ø±ÛŒØ®: " + now.toLocaleDateString("fa-IR",{timeZone:"Asia/Tehran"});
}
setInterval(updateTime,1000);
updateTime();

// ğŸ’° Ø¯Ø±ÛŒØ§ÙØª Ù‚ÛŒÙ…Øª Ø¢Ù†Ù„Ø§ÛŒÙ†
async function loadOnlinePrices() {
  try {
    // ØªØ¨Ø¯ÛŒÙ„ Ø¯Ù„Ø§Ø± Ø¨Ù‡ ØªÙˆÙ…Ø§Ù†
    const resRate = await fetch("https://api.exchangerate.host/convert?from=USD&to=IRR");
    const rateData = await resRate.json();
    const dollarRate = rateData.result;

    document.getElementById("usdRate").innerText = "ğŸ’µ Ù†Ø±Ø® Ø¯Ù„Ø§Ø±: " + Math.round(dollarRate).toLocaleString("fa-IR") + " Ø±ÛŒØ§Ù„";

    // Ù‚ÛŒÙ…Øª Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ† Ùˆ ØªØªØ±
    const cryptoRes = await fetch(
      "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,tether,pax-gold&vs_currencies=usd&include_24hr_change=true"
    );
    const crypto = await cryptoRes.json();

    const btcUsd = crypto.bitcoin.usd;
    const usdtUsd = crypto.tether.usd;
    const goldUsd = crypto["pax-gold"].usd;

    // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ØªÙˆÙ…Ø§Ù†
    const btcToman = Math.round(btcUsd * dollarRate / 10).toLocaleString("fa-IR");
    const usdtToman = Math.round(usdtUsd * dollarRate / 10).toLocaleString("fa-IR");
    const goldToman = Math.round(goldUsd * dollarRate / 10).toLocaleString("fa-IR");

    document.getElementById("btc").innerText =
      "ğŸŸ  Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†: " + btcToman + " ØªÙˆÙ…Ø§Ù†";
    document.getElementById("usdt").innerText =
      "ğŸŸ¢ ØªØªØ±: " + usdtToman + " ØªÙˆÙ…Ø§Ù†";
    document.getElementById("gold").innerText =
      "ğŸŸ¡ Ø·Ù„Ø§: " + goldToman + " ØªÙˆÙ…Ø§Ù†";

  } catch (err) {
    document.getElementById("btc").innerText = "âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§";
  }
}

loadOnlinePrices();
</script>

</body>
</html>
