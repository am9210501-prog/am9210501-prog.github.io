<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³Ø§ÛŒØª Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù¾Ø§ÛŒØ¯Ø§Ø±</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap');

:root{
  --bg1:#00c9ff;
  --bg2:#92fe9d;
  --card:rgba(255,255,255,0.9);
  --text:#222;
}
.dark{
  --bg1:#0f2027;
  --bg2:#203a43;
  --card:rgba(0,0,0,0.6);
  --text:white;
}

body{
  margin:0;
  font-family:'Vazirmatn',sans-serif;
  background:linear-gradient(-45deg,var(--bg1),var(--bg2),var(--bg1),var(--bg2));
  background-size:400% 400%;
  color:var(--text);
  text-align:center;
  animation:gradientBG 15s ease infinite;
  transition:0.4s;
}

@keyframes gradientBG{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

.container{padding:20px;}

.card{
  background:var(--card);
  margin:15px auto;
  padding:25px;
  border-radius:20px;
  max-width:450px;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
  opacity:0;
  transform:translateY(30px);
  transition:0.6s;
}
.card.show{opacity:1;transform:translateY(0);}
.card:hover{transform:scale(1.03);}

h1{font-size:32px;margin-bottom:15px;}
.price{font-size:22px;margin:12px 0;}
.time{font-size:18px;margin:6px 0;}
button{padding:12px 20px;border-radius:12px;border:none;cursor:pointer;font-size:16px;margin-top:10px;}
button.toggle{background:#555;color:white;}

.green{color:#0f0;}
.red{color:#f00;}

input{
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:16px;
  width:70%;
  text-align:center;
}
</style>
</head>
<body>

<div class="container">

  <h1 id="welcome">ğŸ‘‹ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒ</h1>

  <div class="card show" id="nameBox">
    <p>Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</p>
    <input type="text" id="nameInput" placeholder="Ù†Ø§Ù… Ø´Ù…Ø§">
    <br>
    <button onclick="saveName()">ÙˆØ±ÙˆØ¯</button>
  </div>

  <div class="card show">
    <div id="btc" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†...</div>
    <div id="usdt" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª ØªØªØ±...</div>
    <div id="gold" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª Ø·Ù„Ø§...</div>
    <div id="usdRate" class="price">â³ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø±Ø® Ø¯Ù„Ø§Ø±...</div>
  </div>

  <div class="card show">
    <div id="time" class="time"></div>
    <div id="date" class="time"></div>
    <button class="toggle" onclick="toggleMode()">ğŸŒ™ ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª</button>
  </div>

</div>

<script>
// Ø°Ø®ÛŒØ±Ù‡ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±
function saveName(){
  const name=document.getElementById("nameInput").value.trim();
  if(!name) return;
  localStorage.setItem("username",name);
  showWelcome();
}
function showWelcome(){
  const name=localStorage.getItem("username");
  if(name){
    document.getElementById("welcome").innerText="ğŸ‘‹ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒ "+name;
    document.getElementById("nameBox").style.display="none";
  }
}
showWelcome();

// Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯
function toggleMode(){document.body.classList.toggle("dark");}

// Ø³Ø§Ø¹Øª Ùˆ ØªØ§Ø±ÛŒØ® Ø§ÛŒØ±Ø§Ù†
function updateTime(){
  const now=new Date();
  document.getElementById("time").innerText="ğŸ•’ Ø³Ø§Ø¹Øª Ø§ÛŒØ±Ø§Ù†: "+now.toLocaleTimeString("fa-IR",{timeZone:"Asia/Tehran"});
  document.getElementById("date").innerText="ğŸ“… ØªØ§Ø±ÛŒØ®: "+now.toLocaleDateString("fa-IR",{timeZone:"Asia/Tehran"});
}
setInterval(updateTime,1000);
updateTime();

// Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ù‡ ØªÙˆÙ…Ø§Ù† Ø¨Ø§ API Ù¾Ø§ÛŒØ¯Ø§Ø±
async function loadPrices(){
  try{
    // Ù†Ø±Ø® Ø¯Ù„Ø§Ø± Ø¢Ù†Ù„Ø§ÛŒÙ†
    const resRate=await fetch("https://api.exchangerate.host/convert?from=USD&to=IRR");
    const rateData=await resRate.json();
    const dollarRate=rateData.result;

    document.getElementById("usdRate").innerText="ğŸ’µ Ù†Ø±Ø® Ø¯Ù„Ø§Ø±: "+Math.round(dollarRate).toLocaleString("fa-IR")+" Ø±ÛŒØ§Ù„";

    // Ù‚ÛŒÙ…Øª Ú©Ø±ÛŒÙ¾ØªÙˆ Ùˆ Ø·Ù„Ø§
    const cryptoRes=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,tether,pax-gold&vs_currencies=usd&include_24hr_change=true");
    const crypto=await cryptoRes.json();

    const btcUsd=crypto.bitcoin.usd;
    const usdtUsd=crypto.tether.usd;
    const goldUsd=crypto["pax-gold"].usd;

    const btcToman=Math.round(btcUsd*dollarRate/10).toLocaleString("fa-IR");
    const usdtToman=Math.round(usdtUsd*dollarRate/10).toLocaleString("fa-IR");
    const goldToman=Math.round(goldUsd*dollarRate/10).toLocaleString("fa-IR");

    document.getElementById("btc").innerText="ğŸŸ  Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†: "+btcToman+" ØªÙˆÙ…Ø§Ù†";
    document.getElementById("usdt").innerText="ğŸŸ¢ ØªØªØ±: "+usdtToman+" ØªÙˆÙ…Ø§Ù†";
    document.getElementById("gold").innerText="ğŸŸ¡ Ø·Ù„Ø§: "+goldToman+" ØªÙˆÙ…Ø§Ù†";

  }catch{
    document.getElementById("btc").innerText="âŒ Ø¯Ø±ÛŒØ§ÙØª Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª";
  }
}

loadPrices();
</script>

</body>
</html>
